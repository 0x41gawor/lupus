---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: loops.lupus.gawor.io
spec:
  group: lupus.gawor.io
  names:
    kind: Loop
    listKind: LoopList
    plural: loops
    singular: loop
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        description: Loop is the Schema for the loops API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: LoopSpec defines the desired state of Loop
            properties:
              elements:
                description: |-
                  Loop elements (e.g. "Observe", "Decide", "Execute"). Root Controller will instantiate them one by one.
                  Sequence matters here as the each element will have reference to the next elements on the list as its nextElement.
                  Element is a struct that has two fields: Element kind and url that has to be written in spec.
                items:
                  description: |-
                    EDIT THIS FILE!  THIS IS SCAFFOLDING FOR YOU TO OWN!
                    NOTE: json tags are required.  Any new fields you add must have json tags for the fields to be serialized.
                  properties:
                    name:
                      description: Name of the element
                      type: string
                    url:
                      description: Url (can be monitored-system or some external functional
                        block)
                      properties:
                        method:
                          type: string
                        path:
                          type: string
                      required:
                      - method
                      - path
                      type: object
                  required:
                  - name
                  - url
                  type: object
                type: array
              name:
                description: Name of the loop e.g. "adam"
                type: string
              observationTimeInterval:
                description: ObservationTimeInterval specifies the times between data
                  fetches from monitored-system [seconds]
                format: int32
                type: integer
            required:
            - elements
            - name
            - observationTimeInterval
            type: object
          status:
            description: LoopStatus defines the observed state of Loop
            properties:
              isActive:
                description: Active flag. If set to true, the loop elements are running,
                  if not the controller will instantiate them
                type: boolean
            required:
            - isActive
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
