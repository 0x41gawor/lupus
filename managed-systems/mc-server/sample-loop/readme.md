# Exemplary use of Lupus for `mc-server`

Let's bring back the general architecture for Lupus application:

![](../../../_img/readme/1.png)

First, you need to develop Ingress and Egress Agents:

- [Ingress Agent](ingress-agent.py)
- [Egress Agent](egress-agent.py)

Now, design the architecture of Loop:
![](../_img/5.png)

Prepare the external elements of Loop:
- [open-policy-agent](opa.md)

